<!DOCTYPE html>
<html lang="en"><head>
<script src="proposal_2025_0430_files/libs/clipboard/clipboard.min.js"></script>
<script src="proposal_2025_0430_files/libs/quarto-html/tabby.min.js"></script>
<script src="proposal_2025_0430_files/libs/quarto-html/popper.min.js"></script>
<script src="proposal_2025_0430_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="proposal_2025_0430_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="proposal_2025_0430_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="proposal_2025_0430_files/libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.6.42">

  <meta name="author" content="Kendra Wyant">
  <meta name="dcterms.date" content="2025-04-30">
  <title>Predicting lapses back to substance use for continuing care support</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="proposal_2025_0430_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="proposal_2025_0430_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
  </style>
  <link rel="stylesheet" href="proposal_2025_0430_files/libs/revealjs/dist/theme/quarto-2f366650f320edcfcf53d73c80250a32.css">
  <link rel="stylesheet" href="slides.css">
  <link href="proposal_2025_0430_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="proposal_2025_0430_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="proposal_2025_0430_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="proposal_2025_0430_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <script src="proposal_2025_0430_files/libs/kePrint-0.0.1/kePrint.js"></script>
  <link href="proposal_2025_0430_files/libs/lightable-0.0.1/lightable.css" rel="stylesheet">
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Predicting lapses back to substance use for continuing care support</h1>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Kendra Wyant 
</div>
        <p class="quarto-title-affiliation">
            University of Wisconsin-Madison
          </p>
    </div>
</div>

  <p class="date">2025-04-30</p>
</section>
<section id="alcohol-use-disorder" class="slide level2">
<h2>Alcohol Use Disorder</h2>
<div class="columns">
<div class="column" style="width:66%;">
<ul>
<li>Chronic condition</li>
</ul>
<div class="fragment">
<ul>
<li>Initial treatments are effective</li>
</ul>
</div>
<div class="fragment">
<ul>
<li>Continuing care is gold-standard for chronic conditions</li>
</ul>
</div>
</div><div class="column" style="width:4%;">

</div><div class="column" style="width:30%;">
<p><img data-src="https://github.com/KendraPaquette/presentations/blob/main/images/crowd.png?raw=true" class="absolute" style="top: 0px; right: 0px; height: 100%; "></p>
</div></div>
<aside class="notes">
<p>Alcohol use disorder is a chronic condition with high relapse rates, substantial co-morbidity with mental and physical health issues, and increased mortality risk.</p>
<p>Initial treatments, including medication and evidence-based psychosocial interventions, are effective. Unfortunately, many individuals never receive treatment. And for those who do, a critical gap in care often emerges once initial treatment ends.</p>
<p>Continuing care, including on-going monitoring, adaptive support, and when necessary re-engagement with more intensive treatment, is the gold standard for chronic conditions, like diabetes and hypertension. Similarly, alcohol use treatment is most effective when provided over longer durations and with active efforts to keep patients engaged in their recovery.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="alcohol-use-disorder-1" class="slide level2">
<h2>Alcohol Use Disorder</h2>
<ul>
<li>Continuing care is lacking for alcohol use disorder</li>
</ul>
<div class="fragment">
<ul>
<li>Risk factors are individualized, numerous, dynamic, and interactive</li>
</ul>
</div>
<div class="fragment">
<ul>
<li>Optimal supports to address risk factors vary across individuals and within an individual over time</li>
</ul>
</div>
<aside class="notes">
<p>Yet, our current treatment system lacks the capacity for long-term clinician-delivered care, and instead the primary focus is on symptom stabilization and harm reduction.</p>
<p>Without ongoing support, many individuals are left to navigate recovery alone, asking themselves: How can I best support my recovery today? Which tool in my toolkit fits what I need right now?</p>
<p>The challenge is that risk factors for relapse are highly individualized, dynamic, and interactive — making self-monitoring difficult. And the optimal supports needed to address these risks vary both across individuals and within an individual over time.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="recovery-monitoring-and-support-system" class="slide level2">
<h2>Recovery Monitoring and Support System</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="fragment">
<ul>
<li>Personalized adaptive recommendations</li>
</ul>
</div>
<div class="fragment">
<ul>
<li>Prompt individuals to engage with support at times of high risk</li>
</ul>
</div>
</div><div class="column" style="width:50%;">
<div class="fragment">
<p><img data-src="https://github.com/KendraPaquette/presentations/blob/main/images/sensingsystem.png?raw=true"></p>
</div>
</div></div>
<aside class="notes">
<p>An algorithm-guided recovery monitoring and support system could help individuals monitor their current and future risk of lapse, or goal-inconsistent alcohol use, after initial treatment and adjust their lifestyle, behaviors and support accordingly.</p>
<p>Such a system could offer personalized, adaptive recommendations aligned with evidenced-based care and prompt individuals to engage with support at times of high risk.</p>
<p>For example, individuals could receive daily messages about changes in their lapse risk, along with recommendations based on their key risk factors, like an urge-surfing recommendation for someone experiencing strong cravings.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="recovery-monitoring-and-support-system-1" class="slide level2">
<h2>Recovery Monitoring and Support System</h2>
<div class="columns">
<div class="column" style="width:49%;">
<div>
<ul>
<li>Personalized adaptive recommendations<br>
</li>
</ul>
</div>
<div>
<ul>
<li>Prompt individuals to engage with support at times of high risk</li>
</ul>
</div>
<div>
<ul>
<li>Scalable to address unmet need</li>
</ul>
</div>
</div><div class="column" style="width:1%;">

</div><div class="column" style="width:50%;">
<p><img data-src="https://github.com/KendraPaquette/presentations/blob/main/images/sensingsystem.png?raw=true"></p>
</div></div>
<aside class="notes">
<p>Moreover, it would provide a scalable option for long-term monitoring, addressing the substantial unmet need for continuing care in alcohol use disorder treatment.</p>
<p>For such a system to exist, we need at least three things. One, the system must be able to collect a rich and densely sampled source (or sources) of risk-relevant data.</p>
<p>Two, the system must have access to a model that can predict alcohol use with high performance and have interpretable model inputs for support recommendations to be mapped onto.</p>
<p>Three, the model must perform fairly. The accuracy of the predictions and usefulness and relevance of the recommendations should be similar for everyone.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="machine-learning-and-digital-data" class="slide level2">
<h2>Machine Learning and Digital Data</h2>
<div class="fragment">
<ul>
<li>High dimensional feature sets</li>
</ul>
</div>
<div class="fragment">
<ul>
<li>Non-linear and interactive relationships between features and lapse risk probability</li>
</ul>
</div>
<div class="fragment">
<ul>
<li>Interpretability of feature importance</li>
</ul>
</div>
<aside class="notes">
<p>Advances in both smartphone sensing of digital data and machine learning now make this possible. Smartphone sensing approaches (e.g., ecological momentary assessment, geolocation tracking) allow for frequent, longitudinal measurement of key risk factors, necessary for temporally precise prediction of lapse risk.</p>
<p>Machine learning models, can handle high-dimensional feature sets and accomodate non-linear and interactive relationships between features and lapse risk probability. And methods from interpretable machine learning can be used to understand which features contribute most to a lapse prediction.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="study-1-and-2" class="slide level2">
<h2>Study 1 and 2</h2>
<ol type="1">
<li><p>Predict <span style="color: #c5050c;"><strong>immediate risk</strong></span> of a lapse back to alcohol use (i.e., in the next week, day, or hour)</p></li>
<li><p>Predict <span style="color: #c5050c;"><strong>future risk</strong></span> of a lapse back to alcohol use (i.e., in a 24 hour window in the future)</p></li>
</ol>
<aside class="notes">
<p>The goals of studies 1-2 were to develop models that predict both immediate and future lapse risk to improve adaptive, tailored continuing care support.</p>
<p>In study 1:</p>
<p>We built models to predict immediate risk of a lapse back to alcohol use with varying temporal precision (anytime in the next week, next day, or next hour).</p>
<p>These models can provide individuals daily insight into their immediate lapse risk and suggest recommendations that could be done in that moment.</p>
<p>Earlier I gave the example of an urge surfing recommendation. This could also include recommending a guided relaxation video when someone is reporting recent stressful events or encouraging individuals to reflect on recent past successes or reasons for choosing abstinence or moderation when self-efficacy is low.</p>
<p>What’s key here is that this assumes that the recommendations can be implemented immediately, likely in a smartphone app.</p>
<p>But the best clinical recommendation might not be able to be done immediately. Imagine trying to schedule a therapy appointment in the next 24 hours!</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="study-1-and-2-1" class="slide level2">
<h2>Study 1 and 2</h2>
<ol type="1">
<li><p>Predict <span style="color: #c5050c;"><strong>immediate risk</strong></span> of a lapse back to alcohol use (i.e., in the next week, day, or hour)</p></li>
<li><p>Predict <span style="color: #c5050c;"><strong>future risk</strong></span> of a lapse back to alcohol use (i.e., in a 24 hour window in the future)</p></li>
</ol>
<aside class="notes">
<p>So in study 2:</p>
<p>we built additional models to predict future risk of lapses back to alcohol use. In these models we shifted the 24 hour prediction window 1 day, 3 days, 1 week or 2 weeks into the future.</p>
<p>This “time-lagged” model could give people advanced warning to implement supports not immediately available to them, such as scheduling positive or pleasant activities, increasing social engagement, or attending a peer-led recovery meeting.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="ecological-momentary-assessment" class="slide level2">
<h2>Ecological Momentary Assessment</h2>
<div class="columns">
<div class="column" style="width:58%;">
<ul>
<li>Direct and frequent insight into subjective feelings and experiences</li>
</ul>
<div class="fragment">
<ul>
<li>Constructs easily map onto well-studied risk factors for lapse</li>
</ul>
</div>
<div class="fragment">
<ul>
<li>Appears to be well-tolerated</li>
</ul>
</div>
</div><div class="column" style="width:2%;">

</div><div class="column" style="width:40%;">
<p><img data-src="https://github.com/KendraPaquette/presentations/blob/main/images/ema.png?raw=true" class="absolute" style="top: 0px; right: 0px; height: 100%; "></p>
</div></div>
<aside class="notes">
<p>For these studies we used ecological momentary assessment.</p>
<p>EMA may be one promising sensing method for lapse prediction.</p>
<p>It offers direct and frequent insight into subjective feelings and experiences that can be easily mapped onto modular forms of treatment like the relapse prevention model</p>
<p>Furthermore, individuals with substance use disorders have found EMA to be acceptable for sustained measurement for up to a year with relatively high completion rates, suggesting that this method is feasible for long-term monitoring throughout recovery.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="design" class="slide level2">
<h2>Design</h2>
<ul>
<li>3-month longitudinal study</li>
<li>Participants completed 4 surveys daily
<ul>
<li>Craving, arousal, valence</li>
<li>Past stressful events, risky situations, pleasant events</li>
<li>Future stressful events, risky situations, efficacy</li>
<li>Alcohol use</li>
</ul></li>
</ul>
<aside class="notes">
<p>Participants completed 4 daily surveys for up to three months</p>
<p>Each survey had 10 items that asked about The greatest intensity of craving, arousal, and valence since the last survey.</p>
<p>Stressful events, risky situations and pleasant events encountered since their last survey</p>
<p>Future stressful events, risky situations and efficacy looking in the next week</p>
<p>And any alcohol use they had not yet reported.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="design-1" class="slide level2">
<h2>Design</h2>
<ul>
<li>3-month longitudinal study</li>
<li>Participants completed 4 surveys daily
<ul>
<li>Craving, arousal, valence</li>
<li>Past stressful events, risky situations, pleasant events</li>
<li>Future stressful events, risky situations, efficacy</li>
<li>Alcohol use</li>
</ul></li>
<li>Outcome = lapse or no lapse</li>
<li>XGBoost algorithm</li>
<li>Grouped nested k-fold cross-validation</li>
</ul>
<aside class="notes">
<p>We used all 10 EMA items plus 7 demographic questions to engineer our features, which serve as the inputs to our model.<br>
Time and day of alcohol was used to generate our outcome labels of lapse or no lapse.<br>
Our statistical algorithm was XGBoost.<br>
We used grouped nested k-fold cross-validation as our resampling method to ensure our models were evaluated on new data from new individuals</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="participants-n-151" class="slide level2">
<h2>Participants (<em>N</em> = 151)</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="proposal_2025_0430_files/figure-revealjs/unnamed-chunk-1-1.png" class="quarto-figure quarto-figure-center" width="768"></p>
</figure>
</div>
</div>
</div>
<aside class="notes">
<p>Our sample consisted of 151 participants with moderate to severe alcohol use disorder living in the Madison, WI area. All of our participants had a goal of abstinence which made it easier for us to identify discrete lapse onsets.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="participants-n-151-1" class="slide level2">
<h2>Participants (<em>N</em> = 151)</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="proposal_2025_0430_files/figure-revealjs/unnamed-chunk-2-1.png" class="quarto-figure quarto-figure-center" width="1152"></p>
</figure>
</div>
</div>
</div>
<aside class="notes">
<p>Our sample was predominantly non-Hispanic White. We had equal representation of men and women.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="participants-n-151-2" class="slide level2">
<h2>Participants (<em>N</em> = 151)</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="proposal_2025_0430_files/figure-revealjs/unnamed-chunk-3-1.png" class="quarto-figure quarto-figure-center" width="1152"></p>
</figure>
</div>
</div>
</div>
<aside class="notes">
<p>The average age was 41 years and average income was $34000.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="ema-completion" class="slide level2">
<h2>EMA Completion</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="proposal_2025_0430_files/figure-revealjs/unnamed-chunk-4-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<ul>
<li>3.1 of 4 surveys completed daily (78.4% compliance)</li>
<li>95% compliance for completing at least one survey daily</li>
</ul>
</div></div>
<aside class="notes">
<p>Participants on average completed 3 of the 4 EMAs each day. Participants completed at least one EMA on 95.0% of days.</p>
<p>The plot on the left shows the percentage of EMA completion looking at the full 4x daily protocol (in red) and completion of at least 1 daily EMA (in grey) over the number of weeks on study. We found participants on average were able to sustain high rates of EMA completion over the full three months.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="study-1-results-performance" class="slide level2">
<h2>Study 1 Results: Performance</h2>
<aside class="notes">
<p>We used area under the roc curve to evaluate model performance. auroc is the probability that a randomly selected positive case will be assigned a higher probability compared to a randomly selected negative case. Scores can range from .5, Chance performance - 1, perfect performance.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="study-1-results-performance-1" class="slide level2">
<h2>Study 1 Results: Performance</h2>
<aside class="notes">
<p>here is the distribution of posterior probabilities for auroc for the lapse predictions in the next week, day, and hour. The median posterior probability was .90 (depicted as the vertical solid line). The Horizonatal line depicts the 95% Bayesian credible interval. This interval was relatively narrow and did not contain .5.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="study-1-results-average-important-features" class="slide level2">
<h2>Study 1 Results: Average Important Features</h2>
</section>
<section id="study-1-results-individual-important-features" class="slide level2">
<h2>Study 1 Results: Individual Important Features</h2>
</section>
<section id="study-2-results-performance" class="slide level2">
<h2>Study 2 Results: Performance</h2>
</section>
<section id="study-2-results-model-fairness" class="slide level2">
<h2>Study 2 Results: Model Fairness</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="proposal_2025_0430_files/figure-revealjs/unnamed-chunk-5-1.png" class="quarto-figure quarto-figure-center" width="1344"></p>
</figure>
</div>
</div>
</div>
<aside class="notes">
<p>In this study we also looked at how fair our models performed for three important subgroups with known disparities in access to substance use treatment and substance use outcomes – race and ethnicity (not White vs.&nbsp;non-Hispanic White), income (below poverty vs.&nbsp;above poverty), and sex at birth (female vs.&nbsp;male).</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="study-2-results-model-fairness-1" class="slide level2">
<h2>Study 2 Results: Model Fairness</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="proposal_2025_0430_files/figure-revealjs/unnamed-chunk-6-1.png" class="quarto-figure quarto-figure-center" width="1344"></p>
</figure>
</div>
</div>
</div>
<aside class="notes">
<p>Our models performed worse for participants who were not white and had an income below the federal poverty line.</p>
<p>The largest contributing factor is likely the lack of diversity in our training data.</p>
<p>Even with our coarse dichotomous grouping of race we only had 20 participants in the not White group (compared to 131 in the White group). We also saw a similar pattern in our income groups (with 49 people in the below poverty group and 102 people in the above poverty group).</p>
<p>In just a moment I’m going to return to this issue and discuss what we are currently doing to address this.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="study-2-results-model-fairness-2" class="slide level2">
<h2>Study 2 Results: Model Fairness</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="proposal_2025_0430_files/figure-revealjs/unnamed-chunk-7-1.png" class="quarto-figure quarto-figure-center" width="1344"></p>
</figure>
</div>
</div>
</div>
<aside class="notes">
<p>We did however have equal representation of men and women, and we still saw differences in performance. We are not sure exactly why this is. We did choose our EMA items based on domain expertise and years of lapse and relapse risk research. It is possible that these constructs more precisely describe lapse risk factors for men than for women. This could mean that more research is needed to identify lapse risk factors for women (and other groups underrepresented in the literature more broadly).</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="conclusions" class="slide level2">
<h2>Conclusions</h2>
<ul>
<li><p>We can predict hour by hour probabilities of lapse at varying levels of temporal precision with excellent performance</p></li>
<li><p>We can characterize the relative importance of features contributing to these risk probabilities for specific individuals at specific moments in time</p></li>
<li><p>These models that predict and characterize immediate risk of lapse are well-suited for just in time personalized interventions</p></li>
</ul>
<aside class="notes">
<p>In study 1 we found that</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="conclusions-1" class="slide level2">
<h2>Conclusions</h2>
<ul>
<li><p>We can achieve clinically meaningful performance up to 2 weeks into the future</p></li>
<li><p>These models offer the benefit of advanced notice for treatment supports that are not immediately available</p></li>
<li><p>A more representative training sample is critical for developing fair models</p></li>
</ul>
<aside class="notes">
<p>In study 2 we found that we can achieve clinically meaningful performance up to two weeks into the future.</p>
<p>Model performance did decrease when prediction windows were shifted further into the future. This is not surprising given what we know about prediction and alcohol lapse. Many important lapse risk factors are fluctuating processes that can change day-by-day, if not more frequently. So when looking 2-weeks out, features are less proximal to the start of the prediction window. Still, the benefit of advanced notice of lapse risk likely outweighs the cost to performance.</p>
<p>Finally, these models are not yet clinically implementable. The most notable flaw being the unfairness of model performance for non-majority groups.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="proposed-study-3-and-4" class="slide level2">
<h2>Proposed Study 3 and 4</h2>
</section>
<section id="design-2" class="slide level2">
<h2>Design</h2>
<ul>
<li>12-month longitudinal study</li>
<li>Participants completed 1 daily suvey
<ul>
<li>Craving, pain, risky situations, stressful events, and pleasant events</li>
<li>Depressed, angry, anxious, relaxed, and happy</li>
<li>Sleep quality</li>
<li>MOUD adherence</li>
<li>Motivation and confidence</li>
<li>Opioid and other drug and alcohol use</li>
</ul></li>
<li>Outcome = lapse or no lapse back to opioid use</li>
</ul>
<aside class="notes">
<p>Participants completed 1X daily surveys for up to 12 months</p>
<p>16 items - update items</p>
<p>intensity of craving, pain, risky situations, stressful events, and pleasant events since their last survey.</p>
<p>How depressed, angry, anxious, relaxed, and happy they have felt in the past 24 hours</p>
<p>Their quality of sleep</p>
<p>Whether they took their MOUD as prescribed.</p>
<p>How motivated and how confident they were to avoid using opioids,</p>
<p>The dates and times of any previously unreported past opioid use and any other drugs or alcohol used in the past 24 hours</p>
<p>Our outcome for these studies is lapse or no lapse back to opioid use in a 24 hour window</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="geolocation" class="slide level2">
<h2>Geolocation</h2>
<div class="columns">
<div class="column" style="width:58%;">
<ul>
<li><p>Passively sensed</p></li>
<li><p>May provide insight into information difficult to measure with self-report</p></li>
<li><p>Adds additional features for personalizing support recommendations</p></li>
<li><p>Appears to be acceptable</p></li>
</ul>
</div><div class="column" style="width:2%;">

</div><div class="column" style="width:40%;">
<p><img data-src="https://github.com/KendraPaquette/presentations/blob/main/images/location.jpg?raw=true" class="absolute" style="top: 0px; right: 0px; height: 100%; "></p>
</div></div>
<aside class="notes">
<p>In addition to the self-report data, participants provided their continuous geolocation data.</p>
<p>Geolocation sensing is a passive sensing method that could compliment daily surveys well. It could provide insight into information difficult to measure with self-report (e.g., the amount of time spent in risky locations, or changes in routine that could indicate life stressors) or that would add additional burden by increasing the number of questions on the daily surveys. Furthermore, by adding more data sources gives us more features and that could mean better personalization of predictions and recommendations for more people.</p>
<p>And while providing geolocation for this project was required, in a previous project, where it was optional, we found nearly all participants opted in to providing geolocation data for a relatively small financial incentive (compared to their other payments). This leads us to believe sensing could be acceptable and feasible for use in a recovery monitoring and support system.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="participants-n-324" class="slide level2">
<h2>Participants (<em>N</em> = 324)</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="proposal_2025_0430_files/figure-revealjs/unnamed-chunk-8-1.png" class="quarto-figure quarto-figure-center" width="768"></p>
</figure>
</div>
</div>
</div>
<aside class="notes">
<p>Our sample consisted of 324 participants from 38 states in the US in early recovery from opioid use disorder. Participants were either currently enrolled in an MOUD program or enrolled in or recently completed an IOP program.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="participants-n-324-1" class="slide level2">
<h2>Participants (<em>N</em> = 324)</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="proposal_2025_0430_files/figure-revealjs/unnamed-chunk-9-1.png" class="quarto-figure quarto-figure-center" width="1152"></p>
</figure>
</div>
</div>
</div>
<aside class="notes">
<p>Our sample was predominantly White, but had some more representation of Black and Hispanic participants compared to our previous sample. We had slightly more representation of men than women.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="participants-n-324-2" class="slide level2">
<h2>Participants (<em>N</em> = 324)</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="proposal_2025_0430_files/figure-revealjs/unnamed-chunk-10-1.png" class="quarto-figure quarto-figure-center" width="1152"></p>
</figure>
</div>
</div>
</div>
<aside class="notes">
<p>Most participants were between 26-45 years and had an annual income below $25,000</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="daily-survey-completion" class="slide level2">
<h2>Daily Survey Completion</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="proposal_2025_0430_files/figure-revealjs/unnamed-chunk-11-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<ul>
<li>71.4% compliance</li>
</ul>
</div></div>
<aside class="notes">

<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="proposed-study-3" class="slide level2">
<h2>Proposed Study 3</h2>
<p>Address limitations of previous studies by:</p>
<ul>
<li>More diverse training data</li>
<li>Generalize to substance other than alcohol</li>
<li>Longer duration of recovery</li>
<li>Adds geolocation data</li>
</ul>
<aside class="notes">
<p>These data offer more diversity with regard to race/ethnicity, income, and geographic location. We expect that improving the quality of the training data with respect to diversity will help to address issues of fairness.</p>
<p>We can also determine whether lapse prediction models can be generalized to other drugs beyond alcohol. Participants in this study will be seeking abstinence from opioids. A successful model will demonstrate that lapse prediction can be done with a drug where its use is illegal and people may be less willing to provide information about lapses and risk factors.</p>
<p>Participants provided data for 12 months. Thus, this study will also show the feasibility of using self-report data over long periods of recovery (i.e., 12 months).</p>
<p>We also will be using geolocation data in addition to self-report data. I already mentioned some of the potential benefits of this addition.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="proposed-study-3-1" class="slide level2">
<h2>Proposed Study 3</h2>
<p>Specific aims:</p>
<ol type="1">
<li><p>Evaluate the performance of a machine learning model that predicts opioid lapse risk from geolocation and daily surveys.</p></li>
<li><p>Assess model fairness in performance across important subgroups with known disparities in substance use treatment access and/or outcomes - race/ethnicity (not White vs.&nbsp;non-Hispanic White), income (below $25,000 vs.&nbsp;above $25,000), sex at birth (female vs.&nbsp;male), and geographic location (rural vs.&nbsp;other).</p></li>
<li><p>Describe the relative importance of features on model performance.</p></li>
</ol>
</section>
<section id="proposed-study-4" class="slide level2">
<h2>Proposed Study 4</h2>
<p>Address limitations of previous studies by:</p>
<ul>
<li>Personalized models</li>
<li>Single model for immediate and lagged predictions</li>
</ul>
<aside class="notes">
<p>State-space models are time series models that describe the relationship between the observed measured inputs and the unknown latent state while accounting for how this latent state evolves over time. They personalize lapse risk prediction by using an individual’s own data to make future predictions about lapse risk for that single individual.</p>
<p>We could imagine these personalized models perform better than traditional machine learning models and that they could be another solution for mitigating fairness issues previously seen.</p>
<p>A benefit of time series models, like state-space models, is that they could potentially improve the efficiency and performance of lagged prediction models (compared to traditional machine learning approaches). A single model can be used to predict a lapse in the next day or at any point in the future.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="proposed-study-4-1" class="slide level2">
<h2>Proposed Study 4</h2>
<p>Specific aims:</p>
<ol type="1">
<li><p>Evaluate the performance of personalized state-space models that predict immediate (next day) opioid lapse risk from geolocation and daily surveys.</p></li>
<li><p>Use the same models from Aim 1 to evaluate their performance for predicting future lapse risk (i.e., lapse risk in the next two weeks and the next month).</p></li>
<li><p>Assess model fairness in model performance for immediate lapses across the same important subgroups assessed in study 3 - race/ethnicity (not White vs.&nbsp;non-Hispanic White), income (below $25,000 vs.&nbsp;above $25,000), sex at birth (female vs.&nbsp;male), and geographic location (rural vs.&nbsp;other).</p></li>
</ol>
<aside class="notes">
<p>Compare the performance of state-space models to our traditional machine learning model in study 3 (chapter 4) to determine if individualized models that account for time are superior for lapse risk prediction.</p>
<p>This will involve three model comparisons between the immediate, 2-week and 1-month lagged models.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="questions" class="slide level2">
<h2>Questions?</h2>
</section>
<section id="raceethnicity" class="slide level2">
<h2>Race/Ethnicity</h2>
<div class="cell">
<div class="cell-output-display">
<table class="lightable-classic caption-top" data-quarto-postprocess="true" style="font-family: &quot;Arial Narrow&quot;, &quot;Source Sans Pro&quot;, sans-serif; margin-left: auto; margin-right: auto;">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">race</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">n</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">perc</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">ai_an</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">0.06</td>
</tr>
<tr class="even">
<td style="text-align: left;">asian</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0.02</td>
</tr>
<tr class="odd">
<td style="text-align: left;">black</td>
<td style="text-align: right;">53</td>
<td style="text-align: right;">0.16</td>
</tr>
<tr class="even">
<td style="text-align: left;">hispanic</td>
<td style="text-align: right;">29</td>
<td style="text-align: right;">0.09</td>
</tr>
<tr class="odd">
<td style="text-align: left;">nat_hi</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0.01</td>
</tr>
<tr class="even">
<td style="text-align: left;">other</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0.02</td>
</tr>
<tr class="odd">
<td style="text-align: left;">white</td>
<td style="text-align: right;">251</td>
<td style="text-align: right;">0.77</td>
</tr>
</tbody>
</table>


</div>
</div>
</section>
<section id="raceethnicity-1" class="slide level2 scrollable">
<h2>Race/Ethnicity</h2>
<p>34 participants selected 2 or more races</p>
<p><img data-src="figs/risk2_race.png"></p>
</section>
<section id="prediction-windows" class="slide level2">
<h2>Prediction Windows</h2>
<ul>
<li>proposed 6am to 6am.</li>
<li>Daily Survey opens at 6 am every morning</li>
<li>Could consider 12 pm to 12 pm to increase chances of getting Daily Survey from that day.</li>
</ul>
<aside class="notes">
<p>6am to 6am would guarantee we get new survey if they complete it.</p>
<p>What happens if someone completes survey after 12 pm and before noon next day? Only use most recent in model?</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="ema-completion-times" class="slide level2">
<h2>EMA completion times</h2>
</section>
<section id="lapse-times" class="slide level2">
<h2>Lapse times</h2>

</section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<p><img src="images/arc_logo.png" class="slide-logo"></p>
<div class="footer footer-default">
<p>Dissertation Proposal</p>
</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="proposal_2025_0430_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="proposal_2025_0430_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="proposal_2025_0430_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="proposal_2025_0430_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="proposal_2025_0430_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="proposal_2025_0430_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="proposal_2025_0430_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="proposal_2025_0430_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="proposal_2025_0430_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="proposal_2025_0430_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: false,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const onCopySuccess = function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      }
      const getTextToCopy = function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
        text: getTextToCopy
      });
      clipboard.on('success', onCopySuccess);
      if (window.document.getElementById('quarto-embedded-source-code-modal')) {
        const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
          text: getTextToCopy,
          container: window.document.getElementById('quarto-embedded-source-code-modal')
        });
        clipboardModal.on('success', onCopySuccess);
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp('/' + window.location.host + '/');
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>